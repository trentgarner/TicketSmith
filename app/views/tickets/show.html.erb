<div class="d-flex flex-wrap align-items-center justify-content-between gap-2 mb-3">
  <div>
    <h1 class="mb-1"><%= @ticket.title %></h1>
    <p class="text-muted mb-0">Created <%= time_ago_in_words(@ticket.created_at) %> ago</p>
  </div>
  <div class="d-flex gap-2">
    <%= link_to "Edit", edit_ticket_path(@ticket), class: "btn btn-outline-primary" %>
    <%= link_to "Back", tickets_path(view: tickets_view), class: "btn btn-outline-secondary" %>
  </div>
</div>

<div class="card mb-3">
  <div class="card-body">
    <div class="d-flex flex-wrap gap-2 mb-3">
      <span class="badge text-bg-<%= status_badge_class(@ticket.status) %>">
        <%= status_display(@ticket.status) %>
      </span>
      <% if @ticket.priority.present? %>
        <span class="badge text-bg-<%= priority_badge_class(@ticket.priority) %>">
          <%= @ticket.priority %>
        </span>
      <% end %>
    </div>

    <dl class="row mb-0">
      <dt class="col-sm-3">Reporter</dt>
      <dd class="col-sm-9"><%= @ticket.reporter.presence || "--" %></dd>
      <dt class="col-sm-3">Assignee</dt>
      <dd class="col-sm-9"><%= @ticket.assignee.presence || "--" %></dd>
    </dl>
  </div>
</div>

<div class="card">
  <div class="card-header">
    Description
  </div>
  <div class="card-body">
    <%= simple_format(@ticket.description.presence || "No description provided.") %>
  </div>
</div>

<div class="mt-3">
  <%= link_to "Delete Ticket", @ticket, class: "btn btn-outline-danger",
        data: { turbo_method: :delete, turbo_confirm: "Delete this ticket?" } %>
</div>
